(this.webpackJsonpgihpster=this.webpackJsonpgihpster||[]).push([[0],{15:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),i=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(5),s=a(1),l=Object(n.createContext)({show:function(e){},hide:function(){}}),u=function(e){var t=e.children,a=Object(n.useState)(),c=Object(s.a)(a,2),i=c[0],o=c[1];return r.a.createElement(l.Provider,{value:{show:function(e){return o(e)},hide:function(){return o(null)},item:i}},t)};function d(){return Object(n.useContext)(l)}var m=a(11),p=a(7),f="gifs/ADD",v="gifs/SET",h=function(e){return{type:f,payload:e}},g=function(e){return{type:v,payload:e}},w=Object(p.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return[].concat(Object(m.a)(e),Object(m.a)(t.payload));case v:return t.payload;default:return e}}),[]),E=function(e){var t=e.children;return r.a.createElement(u,null,r.a.createElement(o.a,{store:w},t))};E.displayName="Root";var y=E,b=a(3),N=a.n(b),_=(a(26),a(14)),j=a.n(_),O=new URLSearchParams;O.append("api_key","".concat("cDxqyRylcfcM4C0fU9uphQINXvazHwhN")),O.append("limit","".concat(12));var k=function(e){var t,a,n,r;return N.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(t=new URLSearchParams(O)).append("offset","".concat(e.offset)),t.append("q","".concat(e.query||"")),a=e.query?"gifs/search":"gifs/trending",c.prev=4,c.next=7,N.a.awrap(fetch("".concat("https://api.giphy.com/v1/").concat(a,"?").concat(t)));case 7:if((n=c.sent).ok){c.next=10;break}throw new Error("Failed to fetch");case 10:return c.next=12,N.a.awrap(n.json());case 12:return r=c.sent,c.abrupt("return",r);case 16:throw c.prev=16,c.t0=c.catch(4),new Error("failed");case 19:case"end":return c.stop()}}),null,null,[[4,16]])},x=(a(27),function(e){var t=e.onChange,a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],o=c[1];return r.a.createElement("input",{className:"search",placeholder:"Search ... e.g. Star Trek",type:"text",value:i,onChange:function(e){o(e.target.value),t(e.target.value)}})});x.displayName="Search";var S=x,C=(a(28),function(){return r.a.createElement("div",{className:"loading"})});C.displayName="Loading";var L=C,q=(a(29),function(e){var t=e.gif,a=d().show,c=Object(n.useState)("pending"),i=Object(s.a)(c,2),o=i[0],l=i[1],u="pending"===o?"item__pending--visible":"item__pending--hidden";return r.a.createElement("div",{onClick:function(){return a(t)},className:"item"},r.a.createElement("div",{className:"item__container"},r.a.createElement("img",{className:"item__image",alt:t.title,onLoad:function(){return l("success")},src:t.images.downsized.url}),r.a.createElement("div",{className:"".concat(u," item__pending")},r.a.createElement(L,null))))});q.displayName="Item";var D=q,R=(a(30),function(e){var t=e.items.map((function(e){return r.a.createElement(D,{key:e.id,gif:e})}));return r.a.createElement("div",{className:"grid"},t)});R.displayName="Grid";var H=R,I=(a(31),function(){var e=d(),t=e.hide,a=e.item;return Object(n.useEffect)((function(){document.body.style.overflow=a?"hidden":"auto"}),[a]),a?r.a.createElement("div",{onClick:t,className:"modal"},r.a.createElement("div",{className:"modal__content"},r.a.createElement("img",{className:"modal__image",src:a.images.original.url,alt:a.title}))):null});I.displayName="Modal";var P=I,U=(a(32),function(){var e=Object(o.b)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(0),u=Object(s.a)(l,2),d=u[0],m=u[1],p=Object(o.c)((function(e){return e})),f=Object(n.useCallback)((function(){if(window.innerHeight+window.scrollY>=document.body.scrollHeight)return m(d+12)}),[d]),v=j()((function(e){m(0),i(e)}),500);Object(n.useEffect)((function(){!function(){var t;N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.awrap(k({offset:d,query:c}));case 2:t=a.sent,e((0===d?g:h)(t.data));case 5:case"end":return a.stop()}}))}()}),[c,d,e]),Object(n.useEffect)((function(){return window.addEventListener("scroll",f),function(){return window.removeEventListener("scroll",f)}}),[f]);var w=c?'Displaying Results for "'.concat(c,'"'):"Displaying results for what's currently trending";return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"app__header"},r.a.createElement("h1",{className:"app__title"},"Giphster"),r.a.createElement("div",{className:"app__search"},r.a.createElement(S,{onChange:v}))),r.a.createElement("div",{className:"app__content"},r.a.createElement("p",{className:"caption app__description"},w),r.a.createElement(H,{items:p})),r.a.createElement(P,null))});U.displayName="App";var z=U;i.a.render(r.a.createElement(y,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.75b16031.chunk.js.map