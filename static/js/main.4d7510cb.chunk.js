(this.webpackJsonpgihpster=this.webpackJsonpgihpster||[]).push([[0],{15:function(e,t,n){e.exports=n(32)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),i=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(5),s=n(1),l=Object(a.createContext)({show:function(e){},hide:function(){}}),u=function(e){var t=e.children,n=Object(a.useState)(),r=Object(s.a)(n,2),i=r[0],o=r[1];return c.a.createElement(l.Provider,{value:{show:function(e){return o(e)},hide:function(){return o(null)},item:i}},t)};function d(){return Object(a.useContext)(l)}var m=n(11),f=n(7),p="gifs/ADD",h="gifs/SET",v=function(e){return{type:p,payload:e}},g=function(e){return{type:h,payload:e}},w=Object(f.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return[].concat(Object(m.a)(e),Object(m.a)(t.payload));case h:return t.payload;default:return e}}),[]),E=function(e){var t=e.children;return c.a.createElement(u,null,c.a.createElement(o.a,{store:w},t))};E.displayName="Root";var b=E,y=n(3),_=n.n(y),j=(n(26),n(14)),N=n.n(j),O=new URLSearchParams;O.append("api_key","".concat("cDxqyRylcfcM4C0fU9uphQINXvazHwhN")),O.append("limit","".concat(12));var k=function(e){var t,n,a,c;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=new URLSearchParams(O)).append("offset","".concat(e.offset)),t.append("q","".concat(e.query||"")),n=e.query?"gifs/search":"gifs/trending",r.prev=4,r.next=7,_.a.awrap(fetch("".concat("https://api.giphy.com/v1/").concat(n,"?").concat(t)));case 7:if((a=r.sent).ok){r.next=10;break}throw new Error("Failed to fetch");case 10:return r.next=12,_.a.awrap(a.json());case 12:return c=r.sent,r.abrupt("return",c);case 16:throw r.prev=16,r.t0=r.catch(4),new Error("failed");case 19:case"end":return r.stop()}}),null,null,[[4,16]])},x=(n(27),function(e){var t=e.onChange,n=Object(a.useState)(""),r=Object(s.a)(n,2),i=r[0],o=r[1];return c.a.createElement("input",{className:"search",placeholder:"Search ... e.g. Star Trek",type:"text",value:i,onChange:function(e){o(e.target.value),t(e.target.value)}})}),S=(n(28),function(e){var t=e.gif,n=d().show,r=Object(a.useState)("pending"),i=Object(s.a)(r,2),o=i[0],l=i[1],u="pending"===o?"item__pending--visible":"item__pending--hidden";return c.a.createElement("div",{onClick:function(){return n(t)},className:"item"},c.a.createElement("div",{className:"item__container"},c.a.createElement("img",{className:"item__image",alt:t.title,onLoad:function(){return l("success")},src:t.images.downsized.url}),c.a.createElement("div",{className:"".concat(u," item__pending")},c.a.createElement("div",{className:"dot-flashing"}))))}),C=(n(29),function(e){var t=e.items.map((function(e){return c.a.createElement(S,{key:e.id,gif:e})}));return c.a.createElement("div",{className:"grid"},t)}),q=(n(30),function(){var e=d(),t=e.hide,n=e.item;return Object(a.useEffect)((function(){document.body.style.overflow=n?"hidden":"auto"}),[n]),n?c.a.createElement("div",{onClick:t,className:"modal"},c.a.createElement("div",{className:"modal__content"},c.a.createElement("img",{className:"modal__image",src:n.images.original.url,alt:n.title}))):null});q.displayName="Modal";var D=q,L=(n(31),function(){var e=Object(o.b)(),t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)(0),u=Object(s.a)(l,2),d=u[0],m=u[1],f=Object(o.c)((function(e){return e})),p=Object(a.useCallback)((function(){if(window.innerHeight+window.scrollY>=document.body.scrollHeight)return m(d+12)}),[d]),h=N()((function(e){m(0),i(e)}),500);Object(a.useEffect)((function(){!function(){var t;_.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(k({offset:d,query:r}));case 2:t=n.sent,e((0===d?g:v)(t.data));case 5:case"end":return n.stop()}}))}()}),[r,d,e]),Object(a.useEffect)((function(){return window.addEventListener("scroll",p),function(){return window.removeEventListener("scroll",p)}}),[p]);var w=r?'Displaying Results for "'.concat(r,'"'):"Displaying results for what's currently trending";return c.a.createElement("div",{className:"app"},c.a.createElement("header",{className:"app__header"},c.a.createElement("h1",{className:"app__title"},"Giphster"),c.a.createElement("div",{className:"app__search"},c.a.createElement(x,{onChange:h}))),c.a.createElement("div",{className:"app__content"},c.a.createElement("p",{className:"caption app__description"},w),c.a.createElement(C,{items:f})),c.a.createElement(D,null))});L.displayName="App";var R=L;i.a.render(c.a.createElement(b,null,c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.4d7510cb.chunk.js.map